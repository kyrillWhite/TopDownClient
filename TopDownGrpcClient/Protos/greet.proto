syntax = "proto3";

option csharp_namespace = "TopDownGrpcGameServer";

import "google/protobuf/empty.proto";
package topdown;


// The greeting service definition.
service TopDownServer {
  // Sends a greeting
  rpc UpdateUserState (stream ControlStateRequest) returns (google.protobuf.Empty);
  rpc RetrieveEntites (google.protobuf.Empty) returns (stream VectorsResponce);
}

// The request message containing the user's name.
message ControlStateRequest {
    int32 dirX = 1;
    int32 dirY = 2;
    float globalMousePosX = 3;
    float globalMousePosY = 4;
    bool leftMouse = 5;
    bool rightMouse = 6;
    int32 inputId = 7;
}

message VectorsResponce {
    repeated Vector vectors = 1;
}

message Vector {
    int32 lastInputId = 1;
    float X = 2;
    float Y = 3;
}